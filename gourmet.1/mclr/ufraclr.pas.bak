unit ufraclr;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, ufrabase, Data.DB, System.ImageList,
  Vcl.ImgList, Vcl.ExtCtrls, VirtualTable, MemDS, DBAccess, Uni, Vcl.Menus,
  System.Actions, Vcl.ActnList, Vcl.StdCtrls, Vcl.Buttons, Vcl.Grids,
  Vcl.DBGrids, Vcl.Imaging.jpeg, Vcl.Mask, Vcl.DBCtrls, Vcl.Imaging.pngimage,uPegaBase,
  DBGrid2Excel;

type
  Tfraclr = class(Tfrabase)
    uqtabelaclrchave: TIntegerField;
    uqtabelaetdcodigo: TIntegerField;
    uqtabelacrtcodigo: TIntegerField;
    uqtabelatalcodigo: TIntegerField;
    uqtabelactdcodigo: TIntegerField;
    uqtabelaclrcnaeprincipal: TStringField;
    uqtabelacrtidentificacao: TStringField;
    uqtabelaetdidentificacao: TStringField;
    uqtabelatalidentificacao: TStringField;
    uqtabelactdidentificacao: TStringField;
    uqtabelaclrversao: TStringField;
    uqtabelaclrvencimentocertificado: TDateField;
    uqtabelaetdapelido: TStringField;
    uqtabelaetftelefone: TStringField;
    procedure ActAlterarExecute(Sender: TObject);
    procedure ActIncluirExecute(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  fraclr: Tfraclr;

  // Início ID do Módulo fraclr
const
  vPlIdMd = '00.00.00.000-01';
  vPlTitMdl = 'Informações Tributárias';

  // Fim ID do Módulo fraclr

implementation

uses
  ufclr;

{$R *.dfm}

function formuFrame(pCargaFrame: TCargaFrame): string;
begin
  pCargaFrame.IdModulo := vPlIdMd;
  pCargaFrame.Titulo := vPlTitMdl;
  fraclr := Tfraclr.Create(pCargaFrame);
end;

procedure defineacesso(pCargaFrame: TCargaFrame);
begin
  pCargaFrame.Titulo := vPlTitMdl;
  fraclr := Tfraclr.Create(pCargaFrame);
  try
    fraclr.CriaAcoesDeAcesso;
  finally
    fraclr.Free;
  end;
end;

exports defineacesso, formuFrame;

procedure Tfraclr.ActAlterarExecute(Sender: TObject);
begin
  inherited;
  CriaFormulario(Tfclr, uqtabelaclrchave.AsString, '');
end;

procedure Tfraclr.ActIncluirExecute(Sender: TObject);
begin
  inherited;
  CriaFormulario(Tfclr, '', '');
end;

end.
