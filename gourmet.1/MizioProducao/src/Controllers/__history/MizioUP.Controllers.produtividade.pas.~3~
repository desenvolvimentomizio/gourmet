unit MizioUP.Controllers.produtividade;

interface

uses
  RESTRequest4D,
  DataSet.Serialize;

implementation

procedure TControllerPrecoVenda.CriarPrecoVenda(ANovoPreco: TLojaModelPrecoPrecoVenda);
begin
  var LResponse := PreparaRequest
    .Resource('/preco-venda/{cod_item}')
    .AddUrlSegment('cod_item', ANovoPreco.CodItem.ToString)
    .AddBody(TJson.ObjectToClearJsonString(ANovoPreco))
    .Get();

  if LResponse.StatusCode <> 201
  then RaiseException(LResponse, 'Falha ao criar novo preço de venda para o item');
end;



end.
