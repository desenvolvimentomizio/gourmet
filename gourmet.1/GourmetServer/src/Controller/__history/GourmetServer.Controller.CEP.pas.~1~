unit GourmetServer.Controller.CEP;

interface

Uses
  Horse,
  System.SysUtils,
  idHashMessageDigest,
  GourmetServer.Model.DAOGeneric,
  GourmetServer.Model.Entity.CEP;


function BuscaCEP(vCodigoCidade: string): string;

type
  TAPIError = class
  private
    Ferror: string;
  public
    property error: string read Ferror write Ferror;
  end;

implementation



function BuscaCEP(vCodigoCidade: string): string;
var
  FDAO: iDAOGeneric<TCEP>;
  vlcepcodigo: string;
begin
  vlcepcodigo := '';

  FDAO := TDAOGeneric<TCEP>.New;

  FDAO.DAO.SQL.where('cddcodigo=' + QuotedStr(vCodigoCidade)).&End.Find;

  vlcepcodigo := FDAO.DataSet.FieldByName('cepcodigo').asstring;
  result := vlcepcodigo;

end;

end.
